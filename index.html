<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>CEO Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
body {
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, "Apple SD Gothic Neo", sans-serif;
    background: #ffffff;
    color: #111;
}

.container {
    max-width: 1200px;
    margin: 40px auto;
    padding: 0 20px;
}

header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #e5e5e5;
    padding-bottom: 16px;
    margin-bottom: 24px;
}

header h1 {
    font-size: 18px;
    font-weight: 600;
}

header span {
    font-size: 14px;
    color: #666;
}

.grid {
    display: grid;
    grid-template-columns: 1fr 2fr 1fr;
    gap: 24px;
}

.section {
    border: 1px solid #eaeaea;
    padding: 16px;
}

.section h2 {
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 12px;
}

.list, .news {
    font-size: 13px;
    line-height: 1.6;
}

input[type="text"] {
    width: 100%;
    border: none;
    border-bottom: 1px solid #ddd;
    padding: 6px 0;
    font-size: 13px;
    margin-bottom: 8px;
}

input[type="checkbox"] {
    margin-right: 8px;
}

.todo-item {
    display: flex;
    align-items: center;
    margin-bottom: 6px;
}

.calendar {
    margin-top: 24px;
}

footer {
    margin-top: 24px;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
}

small {
    color: #999;
}
</style>
</head>

<body>
<div class="container">

<header>
    <h1>CEO Dashboard</h1>
    <span id="today"></span>
</header>

<div class="grid">

    <!-- MAIL -->
    <div class="section">
        <h2>MAIL</h2>
        <div class="list">
            Personal : 12<br/>
            Company : 4
        </div>
    </div>

    <!-- TODAY TASKS -->
<div class="section">
  <h2>TODAY TASKS</h2>
  <div id="todayTasks"></div>
  <input type="text" id="newTodayTask" placeholder="업무 추가 후 Enter" />
</div>

    <!-- YESTERDAY -->
<div class="section">
  <h2>YESTERDAY</h2>
  <div id="yesterdayTasks" class="list"></div>
</div>

<!-- CALENDAR -->
<div class="section calendar">
    <h2>CALENDAR</h2>
    <div class="list">
        09:00 내부 미팅<br/>
        13:00 외부 미팅<br/>
        16:30 전화 미팅
    </div>
</div>

<footer>

    <!-- CHECK LIST -->
<div class="section">
  <h2>CHECK LIST</h2>
  <div id="checkList"></div>
  <input type="text" id="newCheckItem" placeholder="체크 항목 추가 후 Enter" />
</div>

    <!-- NEWS -->
    <div class="section">
        <h2>ECONOMIC NEWS</h2>
        <div class="news">
            • 미 연준 금리 동결<br/>
            • 원·달러 환율 변동<br/>
            • 글로벌 증시 혼조
        </div>
    </div>

</footer>

<small>Private · CEO Only</small>

</div>

<script>
const today = new Date().toISOString().slice(0,10);
document.getElementById("today").innerText =
  new Date().toLocaleDateString('ko-KR', {
    year:'numeric', month:'2-digit', day:'2-digit', weekday:'short'
  });

// 공통 렌더 함수
function renderList(key, containerId) {
  const container = document.getElementById(containerId);
  container.innerHTML = '';
  const items = JSON.parse(localStorage.getItem(key) || '[]');

  items.forEach((item, index) => {
    const row = document.createElement('div');
    row.className = 'todo-item';

    const checkbox = document.createElement('input');
    checkbox.type = 'checkbox';
    checkbox.checked = item.done;

    checkbox.onchange = () => {
      items[index].done = checkbox.checked;
      localStorage.setItem(key, JSON.stringify(items));
    };

    const text = document.createElement('span');
    text.textContent = item.text;
    if (item.done) text.style.color = '#aaa';

    const del = document.createElement('span');
    del.textContent = ' ×';
    del.style.cursor = 'pointer';
    del.style.color = '#ccc';
    del.onclick = () => {
      items.splice(index, 1);
      localStorage.setItem(key, JSON.stringify(items));
      renderList(key, containerId);
    };

    row.appendChild(checkbox);
    row.appendChild(text);
    row.appendChild(del);
    container.appendChild(row);
  });
}

// TODAY TASKS
const todayKey = 'todayTasks_' + today;
renderList(todayKey, 'todayTasks');

document.getElementById('newTodayTask').addEventListener('keypress', e => {
  if (e.key === 'Enter' && e.target.value.trim()) {
    const items = JSON.parse(localStorage.getItem(todayKey) || '[]');
    items.push({ text: e.target.value, done: false });
    localStorage.setItem(todayKey, JSON.stringify(items));
    e.target.value = '';
    renderList(todayKey, 'todayTasks');
  }
});

// CHECK LIST
const checkKey = 'checkList';
renderList(checkKey, 'checkList');

document.getElementById('newCheckItem').addEventListener('keypress', e => {
  if (e.key === 'Enter' && e.target.value.trim()) {
    const items = JSON.parse(localStorage.getItem(checkKey) || '[]');
    items.push({ text: e.target.value, done: false });
    localStorage.setItem(checkKey, JSON.stringify(items));
    e.target.value = '';
    renderList(checkKey, 'checkList');
  }
});
</script>
<script>
// 어제 날짜 계산
const yesterday = new Date();
yesterday.setDate(yesterday.getDate() - 1);
const yesterdayKey =
  'todayTasks_' + yesterday.toISOString().slice(0,10);

// 어제 업무 불러오기
const yesterdayData = JSON.parse(
  localStorage.getItem(yesterdayKey) || '[]'
);

const yesterdayContainer = document.getElementById('yesterdayTasks');

if (yesterdayData.length === 0) {
  yesterdayContainer.innerHTML = '• 기록 없음';
} else {
  yesterdayData.forEach(item => {
    const row = document.createElement('div');
    row.textContent = '• ' + item.text;
    yesterdayContainer.appendChild(row);
  });
}
</script>
</body>
</html>
